<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sheet Music Roll - Local VexFlow</title>
    <link rel="stylesheet" href="styles.css" />

    <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.5/build/cjs/vexflow.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/xml-js@1.6.11/dist/xml-js.min.js"></script>

    <script>
        // Set the global variable for the XML parser (used in app.js)
        window.xml2js = xml2js; 
    </script>
</head>

<body>
    <div class="header">
        <div class="header-left">
            <div class="work-meta">
                <span class="work-title" id="workTitle">Sheet Music Roll</span>
                <span class="work-composer" id="composerName">by Composer</span>
            </div>
            <div class="score-display">
                <div class="score-item">
                    <span class="score-label">Tempo</span>
                    <span class="score-value" id="currentTempo">100</span>
                </div>
                <div class="score-item">
                    <span class="score-label">Notes Played</span>
                    <span class="score-value" id="noteCount">0 / 0</span>
                </div>
            </div>
        </div>
        <div class="header-right">
            <div class="control-group upload-group">
                <label for="fileInput" class="file-label">üì§ Upload MusicXML</label>
                <input type="file" id="fileInput" class="file-input" accept=".xml, .musicxml" />
            </div>

            <div class="control-group">
                <label>Scroll Mode</label>
                <div class="mode-buttons" id="scrollModeButtons">
                    <button class="mode-btn" data-mode="smooth">Smooth</button>
                    <button class="mode-btn" data-mode="jumping">Jump</button>
                    <button class="mode-btn" data-mode="center">Center</button>
                </div>
            </div>

            <div class="control-group color-group">
                <label for="highlightColor">Highlight</label>
                <input type="color" id="highlightColor" value="#2ecc71" />
            </div>

            <div class="control-group tempo-group">
                <label for="tempoSlider">Tempo</label>
                <input type="range" class="tempo-slider" id="tempoSlider" min="40" max="180" value="100" step="5" />
                <span class="tempo-value" id="tempoValue">100 BPM</span>
            </div>

            <div class="control-group button-group">
                <button class="btn btn-primary" id="startBtn">‚ñ∂ Start</button>
                <button class="btn btn-secondary" id="pauseBtn">‚è∏ Pause</button>
                <button class="btn btn-secondary" id="resetBtn">üîÅ Reset</button>
            </div>
        </div>
    </div>

    <div id="toastContainer"></div>

    <div class="main-container">
        <div class="sheet-music-viewport">
            <div class="guide-line"></div>
            <div class="music-scroll-wrapper" id="scrollWrapper">
                <div id="musicCanvas">
                    <div class="loading">Loading VexFlow...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>